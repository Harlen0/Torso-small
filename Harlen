_G.TorsoSize = Vector3.new(5, 5, 5) -- Ajuste esse valor conforme necessário
_G.HumanoidRootPartSize = Vector3.new(5, 5, 5) -- Ajuste esse valor conforme necessário
_G.Disabled = false

local localPlayer = game:GetService('Players').LocalPlayer

local function scaleHitbox(character)
    if character then
        local torso = character:FindFirstChild("Torso")
        local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")

        if torso then
            torso.Size = _G.TorsoSize
            torso.CanCollide = false -- Desative a colisão para o torso
            torso.Transparency = 0.9 -- Adicione esta linha
        end

        if humanoidRootPart then
            humanoidRootPart.Size = _G.HumanoidRootPartSize
            humanoidRootPart.CanCollide = false
        end
    end
end

local function resizeParts(character)
    local torso = character:FindFirstChild("Torso")
    local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")

    if torso then
        torso.Size = _G.TorsoSize
        torso.CanCollide = false -- Desative a colisão para o torso
        torso.Transparency = 0.9 -- Adicione esta linha
    end

    if humanoidRootPart then
        humanoidRootPart.Size = _G.HumanoidRootPartSize
    end
end

local function onCharacterAdded(character)
    character:WaitForChild("Humanoid")

    resizeParts(character)

    character:WaitForChild("Humanoid").Died:Connect(function()
        character:WaitForChild("Humanoid").Died:Wait()

        resizeParts(character)
    end)
end

local function onPlayerAdded(player)
    if player ~= localPlayer then
        player.CharacterAdded:Connect(onCharacterAdded)

        if player.Character then
            onCharacterAdded(player.Character)
        end
    end
end

game:GetService('Players').PlayerAdded:Connect(onPlayerAdded)

for _, player in ipairs(game:GetService('Players'):GetPlayers()) do
    onPlayerAdded(player)
end

game:GetService('RunService').RenderStepped:Connect(function()
    if not _G.Disabled then
        for _, player in pairs(game:GetService('Players'):GetPlayers()) do
            if player ~= localPlayer then
                pcall(function()
                    scaleHitbox(player.Character)
                    if player.Character and player.Character:FindFirstChild("Torso") then
                        player.Character.Torso.Size = _G.TorsoSize
                        player.Character.Torso.CanCollide = false -- Desative a colisão para o torso
                        player.Character.Torso.Transparency = 0.9 -- Adicione esta linha
                    end
                end)
            end
        end
    end
end)

local function disableCollision(character)
    local torso = character:FindFirstChild("Torso")
    if torso then
        torso.CanCollide = false
    end
end

localPlayer.CharacterAdded:Connect(disableCollision)

if localPlayer.Character then
    disableCollision(localPlayer.Character)
end
